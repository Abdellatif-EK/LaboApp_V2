{% extends 'authentification/base.html' %}
{% block content %}
<style>
    #container {
        border: 1px solid #007bff;
        padding: 20px;
        margin: 20px auto;
        width: 50%;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
    }
    #big-text { font-size: 2rem; }
</style>
<div id="container" class="container mx-auto py-5 bordered">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h1 id="big-text" class="text-center mb-4">Extraire la liste des équipements</h1>
      <form method="POST" action="{% url 'generate_excel' %}">
        {% csrf_token %}
        <div class="form-group">
          <label for="category-select" class="col-form-label">Catégorie</label>
          <select class="form-control" id="category-select" name="category">
            <option value="all">Toutes les catégories</option>
            <option value="HPLC">HPLC</option>
            <option value="Spectrophotomètre">Spectrophotomètre</option>
            <option value="Balance">Balance</option>
            <option value="climatique">Enceinte climatique</option>
            <option value="Laboratoire Micro">Microbiologie</option>
            <option value="autre">Autre</option>
          </select>
        </div>
        <br>
        <div class="form-group">
          <button type="submit" class="btn btn-primary" name="extract_category" aria-label="Extraire la catégorie des équipements">Extraire en excel</button>
        </div>
      </form>
      <hr>
      <form method="POST" action="{% url 'generate_pdf' %}">
        {% csrf_token %}
        <div class="form-group">
          <input type="hidden" name="category" id="category-hidden">
          <button type="submit" class="btn btn-primary" aria-label="Extraire en pdf">Extraire en pdf</button>
        </div>
      </form>
    </div>
  </div>
</div>
<script>
document.getElementById('category-select').addEventListener('change', function() {
    var selectedCategory = this.value;
    document.getElementById('category-hidden').value = selectedCategory;
});
</script>
{% endblock %}
